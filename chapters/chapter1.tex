\chapter{前言}{Preface}
\label{chap:intro}

目前，计算语言学软件几乎在每个关键领域都远远落后于人类的认知，如自然语言理解、生成和对话。计算语言学系统的功能在近几十年来得到稳步提高，在很大程度上是由于互联网的总体发展和相关的“大数据”现象所带来的语料库语言学的兴起。然而，在目前这么多研究方向中，哪一个最能带领该领域快速持续发展，还没有定论。

本文提出的结论，是遵循计算语言学功能发展的一个特定方向。本文工作是在一个旨在实现通用人工智能（AGI）的中集成认知体系中进行的，长远目标在于实现具有一定智能水平的自然语言理解、生成和对话系统。除此之外，本文也取得不依赖与该集成认知体系的具有价值的特定研究成果。

本文的研究在以下四个基本假设中展开。这些假设来源于，OpenCog通用智能系统 \cite{EGI1} \cite{EGI2}中的基于加权有向超图的知识表示以及基于超图转换的认知运算。这些假设可以简明地总结如下：

\begin{itemize}
\item {\bf 假设1——关于自然语言理解：}借助一个超图转换系统，使用依存关系语法、传统逻辑与谓词逻辑的合理结合，将各式各样的自然语言表达转换成满足下列要求的逻辑表达方式，是可行的。
    \begin{itemize}
    \item 包含自然语言表达式中的主要语义。
    \item 具体化自然语言表达式中存在的任何无法在语言到逻辑的转换消除的歧义，使得这些歧义能通过基于语境知识的逻辑推理后很直截了当地得到消除。
    \end{itemize}
\item {\bf 假设2——关于基于语言的推理：}借助由超图转换表示的推理规则和基于超图表示的知识库，使用简单的逻辑推理，在上述自然语言理解框架输出的逻辑表达式上实现基本的常识推理，是可行的。
\item {\bf 假设3——关于自然语言生成：} 借助一个超图转换系统和一个超图匹配系统，在由自然语言理解系统自动生成的二元组（语言表达式，逻辑表达式）组成的知识库中根据逻辑表达式找到匹配的语言表达式并生成自然语言，是可行的。
\item  {\bf 假设4——关于智能会话系统：} 利用上述的语言理解、生成和逻辑推理系统，构建一个有用且灵活的智能会话系统，是可行的。
\end{itemize}

本文提供了大量的证据支持前三个假设。完全吻合前三个假设，本文实现了能完成“英文—逻辑—英文”转换的软件系统。在这点上，我们还不能提供完整、全面覆盖英文中各种语言现象的系统。但目前没有一个计算语言学系统可以提供完整、全面覆盖任何一种自然语言。具体地可表现为：
\begin{itemize}
\item 对于假设1，本文论证了一个可行的自然语言理解流水线，它集成了卡耐基-梅隆大学的链语法解析器改进版本 \cite{Sleator1993}、RelEx关系抽取系统\cite{Goertzel2006}的改进版本 以及一个全新的RelEx2Logic系统——将RelEx的输出映射到OpenCog通用人工智能系统框架 \cite{EGI1}\cite{EGI2}所使用的概率逻辑网络（PLN）形式的逻辑表达式。文献\cite{Lian2012}中报道过这个框架的早期阶段；本文所述版本更为精准，功能更为强大。
\item 对于假设2，借助于概念逻辑网络（PLN）框架，以基于上述自然语言理解框架输出的逻辑表达式作为推理前提，本文实现了不同形式的逻辑推理实例。
 \cite{Goertzel2006}中已经尝试将PLN推理应用到自然语言理解的输出结果，但本文取得了比之前更专业更具体的实验结果。
\item 对于假设3，本文实现了一个全新的自然语言生成系统，该系统在OpenCog系统内实现，通过微观规划和表层生成，能将一个给定的逻辑表达式生成相应的英文句子，其中表层生成过程使用了逻辑表达式的匹配，这里的逻辑表达式正是上述自然语言理解系统中使用的语义表示方式。文献 \cite{Lian2010}阐述了该框架的早期阶段的实现原理和方法，本文所述版本对其做了大量的改进，框架更复杂，功能更为全面。

\end{itemize}
\noindent 对于假设4，本文展开了深入的理论研究和设计工作，并实现了一个相应的原型系统，会在第\ref{chap:dialogue}章中具体阐述。这也是我们目前和不久的将来的研究重点。


\section{基于规则的系统的优缺点}{Strengths and Weaknesses of Hand-Coded Rules}
在上诉前三个假设前提下实现的软件系统主要是基于人工编写的语言规则（在理解方向上，生成过程依赖于隐式的理解规则，而不需要额外的规则）。然而，这不是本文所采用方法的全部。事实上，目前正在进行的无监督的语言学习，即希望能通过无监督的机器学习方法来从无标记的语料库获得的相关语法规则来替换人工编写的规则，这项工作将在第\ref{chap:unsupervised}章中论述。本文使用人工编写的规则库，不是把它作为智能英文处理系统的最终、全面的基础。我们认为，到最后，这也是一个不可行的方法，因为语言本身的复杂性，所需的规则数目将超越人工能操作的范围。相反，我们这里使用人工编写的规则库作为一个自然语言理解系统的“原型”，将架构问题从学习问题中分离出来，并提出一个语言理解和生成的通用且强大的架构。在这个架构内从学习更广泛的功能语言学内容到操作，作为一个独立的问题，将在第\ref{chap:unsupervised}章中进一步阐述。

在承认基于规则的方法的局限性的同时，值得肯定的是，该方法有着潜在的语用价值。从一个旨在开发一个能够在相对具体的语境中实现语言理解和/或生成的软件系统的程序开发者的角度来看，一个基于规则的自然语言处理系统可能是完全足够的，甚至在某些情况下有可能由于它的可预见性和简单性，成为最好的基于学习的系统。这里所描述的软件系统是以专业方式实现和架构的，并可以直接应用在现实世界中；事实上，该系统的好几个方面已经以这种方式被应用在一些商业软件中。\footnote{本文使用的关系抽取工具RelEx已经在一些由美国公司Novamente LLC和Linas AGI LLC签订的商业项目中被广泛应用，由于商业性质，我们无法在此提供相关参考文献。}

\section{OpenCog框架}{The OpenCog Framework}
如上所述，本文工作已在AGI软件框架OpenCog背景下实现。OpenCog在的自然语言处理和数据挖掘领域已被用于商业应用，如 \cite{Goertzel2006}。它也被用于虚拟世界中对虚拟智能体的控制\cite{Goertzel2008d}  \cite{Goertzel2011x}，也被用于控制人形机器人\cite{Goertzel2010h}。

在文献\cite{GoertzelHP}中概述的“模式主义（patternist）”系统理论概念下，OpenCog以一种统一的体系结构融合了多种人工智能范式，比如不确定逻辑、计算语言学、进化编程学习和基于连接主义的注意力分配机制。这些范式都可以在一种通用的神经符号超图知识库上进行相互协作，这个超图知识库也就是所谓的原子空间Atomspace（”原子Atom“包括节点和链接，其中链接还包括超链接）。这些过程之间通过相互作用来激发Atomspace中高层网络结构的自发组织。后文将对OpenCog做更详细的讨论，读者也可参考 \cite{Goertzel2010h}，或从 \url{http://opencog.org}获得更多相关内容。

从计算语言学的角度来看，OpenCog提供了以下主要模块：
\begin{itemize}
\item 高度灵活的知识表示框架（Atomspace以及其中包含的PLN原子类型），能直观的表达各种各样的句法和语义结构；
\item PLN逻辑推理引擎，可对自然语言理解框架的输出进行简单的推理；
\item 基于超图的模式匹配和以及在Atomspace上实现遍历工具，为Relex2Logic、微观规划以及表层生成等工具的开发，提供了便捷又实用的平台。
\end{itemize}

\section{存在的问题和未来的研究}{Omissions and Ongoing Development}
虽然上述工作已经取得了重要成果，但是从一个更广阔的视野来看，仍然还有很多未完成的工作，其中有许多也是我们目前正在研究和开发的课题。

首先必须强调的是，截止到我们目前所做工作为止，语言理解和生成的许多关键方面一直未被关注，甚至完全被忽略。如以下几个例子：
\begin{itemize}
\item 形态。链语法分析器，作为上述理解系统的初始阶段，最近已扩展到在语素及文字水平进行句法分析；但我们还没有将这项工作纳入到我们自己的工作中。
\item 语用。我们能够按照他们的实际能力对语句生成逻辑表达式进行分析，但是我们并未执行语用方面的分析。
\item 消歧。我们已在OpenCog框架中实现了一个简单词义消歧系统，但还没有集成到本文的工作中。
\item 名词的回指消解。在我们的理解系统内，人称代词的指代消解已通过各种启发式算法实现，但名词的回指却被忽略。
\end{itemize}

目前我们工作的一部分是指出整体框架中的这些缺陷。然而，我们相信即使给出这些疏漏，我们所做的工作也足够为以上三个假设提供合理的证据支持。展示处理上述现象能力必然有助于compelling system，但是对于验证本方法和三个假设的有效性并不必要。

本文工作的其中一个目标就是构建一个具有一定智力水平的智能会话系统。为了实现这样的智能会话系统，本文也开发了涉及自然语言理解、生成和推理等的相关模块。但本文的工作并不仅仅包括自然语言理解、生成和推理本身，例如还包括下面几个方面：
\begin{itemize}
\item 来自语言的逻辑表达和来自其他信息渠道的逻辑表达的有效整合，这些其他信息渠道可以是机器人或虚拟世界里的涉身知识，也可以是限定领域的标注语料库
\item “对话控制程序”的实现，该对话控制程序从一个动机驱动的系统中获取相关信号，然后结合系统当前的动机、最近的语言输入以及当前的系统知识等相关语境知识来选择相应的语言应答。
\item 额外的推理控制机制，使得智能体在被不相关或者不完全相关的信息来源打断后，仍能进行相对复杂的推理，从而给出相关的应答。
\end{itemize}

这些模块的当前现状将在第 \ref{chap:inference}和\ref{chap:dialogue} 章介绍。这些工作目前还无法在所有的语言现象中得到了验证，还有待进一步深入研究。然而， 在理解、生成和推理等方面，明确的研究方向和相关工具的实现，无疑为以后的研究奠定了结实的基础和提供了一个便捷的研究平台。我们提出三个核心假设的主要原因，是因为它们提供了一种有效的方法，能够借助自然语言理解、生成和语义推理等子系统，来搭建一个大型的智能对话体系结构。
